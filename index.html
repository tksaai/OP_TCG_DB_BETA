<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ワンピースTCGデータベース</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#000000">
</head>
<body>
    <header>
        <h1>ワンピースTCGデータベース</h1>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="カード名または効果テキストを入力...">
            <button id="filterButton">絞り込み</button>
            <button id="resetButton">リセット</button>
        </div>
        <div class="tab-buttons">
            <button class="tab-button active" data-tab="searchTab">カード検索</button>
            <button class="tab-button" data-tab="deckTab">デッキ構築</button>
        </div>
    </header>

    <main>
        <!-- カード検索タブ -->
        <div id="searchTab" class="tab-content active">
            <div id="cardList" class="card-list"></div>
        </div>

        <!-- デッキ構築タブ -->
        <div id="deckTab" class="tab-content">
            <div id="deckBuilderContainer">
                <!-- 左側: カード検索エリア -->
                <div id="deckCardSearchContainer">
                    <h2>カードリスト (クリックでデッキに追加)</h2>
                    <div id="deckCardList" class="card-list"></div>
                </div>
                <!-- 右側: デッキリストエリア -->
                <div id="deckListContainer">
                    <h2>デッキリスト</h2>
                    <div id="deckInfo">
                        <span id="deckCount">メインデッキ: 0/50枚</span>
                        <button id="clearDeckButton">デッキクリア</button>
                    </div>
                    
                    <h3>リーダー</h3>
                    <div id="leaderCardSlot">
                        <p>リーダーカードを<br>選択してください</p>
                    </div>

                    <h3>メインデッキ (<span id="mainDeckCount">0</span>/50)</h3>
                    <div id="mainDeckList">
                        <!-- デッキのカードがここに追加されます -->
                    </div>

                    <div class="deck-actions">
                        <h3>デッキコード</h3>
                        <textarea id="deckCodeOutput" rows="3" placeholder="ここにデッキコードが出力されます"></textarea>
                        <div class="deck-buttons">
                            <button id="generateDeckCodeButton">コード生成</button>
                            <button id="copyDeckCodeButton">コードコピー</button>
                        </div>
                        <textarea id="deckCodeInput" rows="3" placeholder="ここにデッキコードを入力..."></textarea>
                        <button id="loadDeckCodeButton">コード読込</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- カード詳細モーダル -->
    <div id="cardModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <img id="modalImage" src="" alt="カード画像">
            <div id="modalDetails">
                <h2 id="modalName"></h2>
                <p id="modalId"></p>
                <p><strong>種類:</strong> <span id="modalCardType"></span></p>
                <p><strong>色:</strong> <span id="modalColor"></span></p>
                <p><strong>レアリティ:</strong> <span id="modalRarity"></span></p>
                <p><strong>コスト:</strong> <span id="modalCost"></span></p>
                <p><strong>パワー:</strong> <span id="modalPower"></span></p>
                <p><strong>カウンター:</strong> <span id="modalCounter"></span></p>
                <p><strong>属性:</strong> <span id="modalAttribute"></span></p>
                <p><strong>効果:</strong> <span id="modalEffect"></span></p>
                <p><strong>トリガー:</strong> <span id="modalTrigger"></span></p>
            </div>
        </div>
    </div>

    <!-- フィルターモーダル -->
    <div id="filterModal" class="modal">
        <div class="modal-content filter-modal-content">
            <span class="close-filter">&times;</span>
            <h2>絞り込み検索</h2>
            
            <fieldset class="filter-section">
                <legend>色</legend>
                <div id="colorFilters" class="filter-grid">
                    <!-- 色フィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>カード種類</legend>
                <div id="cardTypeFilters" class="filter-grid">
                    <!-- カード種類フィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>レアリティ</legend>
                <div id="rarityFilters" class="filter-grid">
                    <!-- レアリティフィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>コスト</legend>
                <div id="costFilters" class="filter-grid large-grid">
                    <!-- コストフィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>パワー</legend>
                <div id="powerFilters" class="filter-grid large-grid">
                    <!-- パワーフィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>カウンター</legend>
                <div id="counterFilters" class="filter-grid">
                    <!-- カウンターフィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>テキスト・能力</legend>
                <div id="abilityFilters" class="filter-grid">
                    <label class="filter-toggle">
                        <input type="checkbox" value="vanilla">
                        <span>バニラ</span>
                    </label>
                    <label class="filter-toggle">
                        <input type="checkbox" value="blocker">
                        <span>ブロッカー</span>
                    </label>
                    <label class="filter-toggle">
                        <input type="checkbox" value="trigger">
                        <span>トリガー</span>
                    </label>
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>属性</legend>
                <div id="attributeFilters" class="filter-grid">
                    <!-- 属性フィルター（動的生成） -->
                </div>
            </fieldset>

            <fieldset class="filter-section">
                <legend>収録パック (ブロックアイコン)</legend>
                <div id="packFilters" class="filter-grid">
                    <!-- パックフィルター（動的生成） -->
                </div>
            </fieldset>
            
            <button id="applyFilters">適用</button>
            <button id="resetFiltersInModal">リセット</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>